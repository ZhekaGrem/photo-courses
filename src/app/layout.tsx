import type { Metadata, Viewport } from 'next';
import dynamic from 'next/dynamic';
import { Montserrat } from 'next/font/google';
import '@/app/styles/globals.css';
import { lazy, Suspense } from 'react';
import Loading from '@/app/loading';
import ClarityScript from '@/app/_components/scripts/ClarityScript';
const BottomTabs = lazy(() => import('@/app/_components/layout/BottomTabs'));

const DynamicFooter = dynamic(() => import('./_components/layout/Footer'), {
  loading: () => <p>Loading...</p>,
});
import Header from './_components/layout/Header';
import { PortalProvider } from '@/context/PortalContext';
import Script from 'next/script';

const montrat = Montserrat({ subsets: ['latin', 'cyrillic'], adjustFontFallback: false, preload: true });

export const viewport: Viewport = {
  width: 'device-width',
  initialScale: 1.0,
};

export const metadata: Metadata = {
  title: '–®–∫–æ–ª–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó üì∏ | –§–æ—Ç–æ—à–∫–æ–ª–∞ | –ö—É—Ä—Å–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞',
  description:
    "–û—Å–≤–æ—ó—Ç–∏ –º–∏—Å—Ç–µ—Ü—Ç–≤–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó –∑ –Ω—É–ª—è. –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏, —Ä–æ–±–æ—Ç–∞ –∑—ñ —Å–≤—ñ—Ç–ª–æ–º, –∫–æ–º–ø–æ–∑–∏—Ü—ñ—î—é —Ç–∞ –æ–±—Ä–æ–±–∫–æ—é. –°—Ç–∞—Ä—Ç –∫–∞—Ä'—î—Ä–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞. –ó–∞–ø–∏—Å—É–π—Ç–µ—Å—å –∑–∞—Ä–∞–∑!",
  keywords:
    '–∫—É—Ä—Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó, –Ω–∞–≤—á–∞–Ω–Ω—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó, —Ñ–æ—Ç–æ–∫—É—Ä—Å–∏ –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤, –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è, —Ñ–æ—Ç–æ—à–∫–æ–ª–∞, —à–∫–æ–ª–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó, –∫—É—Ä—Å–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞ –∫—É—Ä—Å–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ –§–æ—Ç–æ—à–∫–æ–ª–∞ –ö—É—Ä—Å–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞ –®–∫–æ–ª–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó',
  openGraph: {
    title: '–ö—É—Ä—Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤ | –í—ñ–¥ –æ—Å–Ω–æ–≤ –¥–æ –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª–∞ | –®–∫–æ–ª–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó',
    description:
      '–ù–∞–≤—á—ñ—Ç—å—Å—è —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤—Ä–∞–∂–∞—é—á—ñ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó, –æ—Å–≤–æ—ó—Ç–µ —Ä–æ–±–æ—Ç—É –∑ –∫–∞–º–µ—Ä–æ—é —Ç–∞ —Å–≤—ñ—Ç–ª–æ–º. –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–Ω—è—Ç—Ç—è —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –µ–∫—Å–ø–µ—Ä—Ç—ñ–≤.',
    images: ['https://www.screenphotoschool.com.ua/_next/static/media/larg.4c8625f1.jpg'],
    locale: 'uk_UA',
    type: 'website',
    url: 'https://www.screenphotoschool.com.ua/',
  },
  twitter: {
    title: "–®–∫–æ–ª–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤ | –°—Ç–∞—Ä—Ç –≤–∞—à–æ—ó –∫–∞—Ä'—î—Ä–∏",
    description:
      '–û—Ç—Ä–∏–º–∞–π—Ç–µ –Ω–∞–≤–∏—á–∫–∏ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞ –∑–∞ 2 –º—ñ—Å—è—Ü—ñ. –ü—Ä–∞–∫—Ç–∏–∫–∞, —Ç–µ–æ—Ä—ñ—è, —Ä–æ–±–æ—Ç–∞ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏.',
    images: ['https://www.screenphotoschool.com.ua/_next/static/media/larg.4c8625f1.jpg'],
  },
  robots: 'index, follow',
  alternates: {
    canonical: 'https://www.screenphotoschool.com.ua/',
    languages: {
      uk: 'https://www.screenphotoschool.com.ua/',
    },
  },
  icons: {
    icon: ['/icon.ico'],
    shortcut: ['/icon.ico'],
    apple: ['/apple-touch-icon.png'],
  },
  authors: [{ name: 'Oleg Serniuk' }],
  verification: {
    google: 'zxibwP7y2X_bx4RJ4UMsueYaEauCBZ21uL_2hEaInYw',
  },
  other: {
    'google-site-verification': 'zxibwP7y2X_bx4RJ4UMsueYaEauCBZ21uL_2hEaInYw',
  },
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="uk">
      <body className={montrat.className}>
        <PortalProvider>
          <Header />
          <main>{children}</main>
          <DynamicFooter />
          <Suspense fallback={<Loading />}>
            <BottomTabs />
          </Suspense>
          <div id="portal-root" />
        </PortalProvider>
        <Script id="schema-org" type="application/ld+json" strategy="afterInteractive">
          {JSON.stringify({
            '@context': 'https://schema.org',
            '@type': 'Course',
            name: '–ö—É—Ä—Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤',
            description:
              '–û—Å–≤–æ—ó—Ç–∏ –º–∏—Å—Ç–µ—Ü—Ç–≤–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó –∑ –Ω—É–ª—è. –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏, —Ä–æ–±–æ—Ç–∞ –∑—ñ —Å–≤—ñ—Ç–ª–æ–º, –∫–æ–º–ø–æ–∑–∏—Ü—ñ—î—é —Ç–∞ –æ–±—Ä–æ–±–∫–æ—é.',
            provider: {
              '@type': 'Organization',
              name: '–®–∫–æ–ª–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó',
              sameAs: 'https://www.screenphotoschool.com.ua',
            },
            category: ['–§–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è', '–¶–∏—Ñ—Ä–æ–≤–µ –º–∏—Å—Ç–µ—Ü—Ç–≤–æ', '–í—ñ–∑—É–∞–ª—å–Ω—ñ –º–µ–¥—ñ–∞'],
            hasCourseInstance: {
              '@type': 'CourseInstance',
              courseMode: 'onsite',
              startDate: '2024-09-01',
              courseWorkload: 'PT40H',
            },
            offers: [
              {
                '@type': 'Offer',
                category: '–ë–∞–∑–æ–≤–∏–π –∫—É—Ä—Å',
                name: '–í—ñ–¥–µ–æ–∫—É—Ä—Å "–®–≤–∏–¥–∫–∏–π –°—Ç–∞—Ä—Ç"',
                price: '3000',
                priceCurrency: 'UAH',
              },
              {
                '@type': 'Offer',
                category: '–†–æ–∑—à–∏—Ä–µ–Ω–∏–π –∫—É—Ä—Å',
                name: '–í—ñ–¥–µ–æ–∫—É—Ä—Å –∑ –º–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ–º',
                price: '5500',
                priceCurrency: 'UAH',
              },
              {
                '@type': 'Offer',
                category: '–Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è',
                name: '–Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∞ —à–∫–æ–ª–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó',
                price: '10000',
                priceCurrency: 'UAH',
              },
            ],
          })}
        </Script>
        <Script
          id="google-analytics"
          strategy="afterInteractive"
          dangerouslySetInnerHTML={{
            __html: `
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-0SG93S79Y0');
              `,
          }}
        />

        <Script
          id="google-tag-manager"
          strategy="afterInteractive"
          dangerouslySetInnerHTML={{
            __html: `
                (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                })(window,document,'script','dataLayer','GTM-NB39DGF6');
              `,
          }}
        />
        <ClarityScript />
      </body>
    </html>
  );
}
